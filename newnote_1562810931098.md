## LVM小知识

### 参考文档
- https://blog.51cto.com/anyisalin/1748342
- https://blog.51cto.com/woyaoxuelinux/1973718

1. 默认测试环境测试机的状态：

- 4核8G
- lvm2

2. LVM(Logical Volume Manager)：逻辑卷管理相关的命令
```
vg管理工具：
    vgs    #查看vg简要信息
    vgdisplay      #查看vg详细信息
    vgcreate  [-s #[kKmMgGtTpPeE]] VolumeGroupName  PhysicalDevicePath [PhysicalDevicePath...]    #创建vg
    vgextend  VolumeGroupName  PhysicalDevicePath [PhysicalDevicePath...]    #扩展vg容量
    vgreduce  VolumeGroupName  PhysicalDevicePath [PhysicalDevicePath...]    #缩减vg容量
    vgremove  VolumeGroupName  #删除vg

lv管理工具：
    lvs    #查看lv简要信息
    lvdisplay    #查看lv详细信息
    lvcreate -L #[mMgGtT] -n NAME VolumeGroup    #创建lv
    lvremove /dev/VG_NAME/LV_NAME    #删除lv

扩展逻辑卷：
    lvextend -L [+]#[mMgGtT] /dev/VG_NAME/LV_NAME    #扩展逻辑卷
    resize2fs /dev/VG_NAME/LV_NAME    #重新定义文件系统大小
    
缩减逻辑卷：
    umount /dev/VG_NAME/LV_NAME    #卸载lv
    e2fsck -f /dev/VG_NAME/LV_NAME    #检查lv
    resize2fs /dev/VG_NAME/LV_NAME #[mMgGtT]    #重新定义lv大小
    lvreduce -L [-] [mMgGtT] /dev/VG_NAME/LV_NAME    #缩减lv
```

3. 系统环境查看
```
通过fdisk -l 命令查看当前系统的磁盘信息

TEST [root@nscnvx505 current]# fdisk -l

Disk /dev/sdb: 128.8 GB, 128849018880 bytes, 251658240 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes


Disk /dev/sda: 1073 MB, 1073741824 bytes, 2097152 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk label type: dos
Disk identifier: 0x0003d37d

   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *        2048     1026047      512000   83  Linux

Disk /dev/mapper/vg00-root: 5368 MB, 5368709120 bytes, 10485760 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes


Disk /dev/mapper/vg00-swap: 4294 MB, 4294967296 bytes, 8388608 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes


Disk /dev/mapper/vg00-opt: 2147 MB, 2147483648 bytes, 4194304 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes


Disk /dev/mapper/vg00-tmp: 5368 MB, 5368709120 bytes, 10485760 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes


Disk /dev/mapper/vg00-var: 47.2 GB, 47244640256 bytes, 92274688 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes


Disk /dev/mapper/vg00-home: 1073 MB, 1073741824 bytes, 2097152 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes

```


4. LVM扩展






